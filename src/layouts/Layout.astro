---
interface Props {
  title: string;
  metaTitle: string;
  metaDescription: string;
  metaUrl: string;
  metaImage: string;
}

import Navbar from "../components/Navbar.astro";

import "aos/dist/aos.css"; // AOS styles
import "prism-themes/themes/prism-a11y-dark.css"; // Prism Theme

const { title, metaTitle, metaDescription, metaUrl, metaImage } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />

    <!-- Open Graph meta tags -->
    <meta property="og:title" content={metaTitle} />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={metaUrl} />
    <meta property="og:image" content={metaImage} />
    <meta property="og:description" content={metaDescription} />
    <meta property="og:site_name" content="Jonathan Oliver | Portfolio" />
    <meta property="og:locale" content="en_UK" />

    <meta name="twitter:title" content={metaTitle} />
    <meta name="twitter:description" content={metaDescription} />
    <meta name="twitter:image" content={metaImage} />
    <meta name="twitter:url" content={metaUrl} />
    <meta name="twitter:site" content="@Jono_Oliver" />

    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>

    <script>
      const htmlElement = document.querySelector("html"),
        darkModeToggle = document.querySelector("[data-toggle-dark-mode]");

      const applyTheme = () => {
        const systemPreference = window.matchMedia(
            "(prefers-color-scheme: dark)",
          ).matches
            ? "dark"
            : "light",
          userPreference = localStorage.getItem("theme");

        if (userPreference) {
          htmlElement.classList.toggle("dark", userPreference === "dark");
        } else {
          htmlElement.classList.toggle("dark", systemPreference === "dark");
        }
      };

      applyTheme();

      darkModeToggle.addEventListener("click", (e) => {
        const isDarkMode = htmlElement.classList.toggle("dark");

        e.preventDefault();

        localStorage.setItem("theme", isDarkMode ? "dark" : "light");
      });
    </script>
  </head>
  <body>
    <Navbar />
    <main>
      <slot />
    </main>

    <script>
      import { aosInit } from "../js/aos";

      // runs on initial page load
      aosInit();
    </script>
  </body>
</html>

<style is:global>
  @font-face {
    font-display: swap;
    font-family: "Archivo";
    font-style: normal;
    font-weight: 400;
    src: url("../fonts/archivo-v19-latin-regular.woff2") format("woff2");
  }

  @font-face {
    font-display: swap;
    font-family: "Archivo";
    font-style: normal;
    font-weight: 500;
    src: url("../fonts/archivo-v19-latin-500.woff2") format("woff2");
  }

  @font-face {
    font-display: swap;
    font-family: "Archivo";
    font-style: normal;
    font-weight: 700;
    src: url("../fonts/archivo-v19-latin-700.woff2") format("woff2");
  }

  @font-face {
    font-display: swap;
    font-family: "Poppins";
    font-style: normal;
    font-weight: 400;
    src: url("../fonts/poppins-v21-latin-regular.woff2") format("woff2");
  }

  @font-face {
    font-display: swap;
    font-family: "Poppins";
    font-style: normal;
    font-weight: 500;
    src: url("../fonts/poppins-v21-latin-500.woff2") format("woff2");
  }

  @font-face {
    font-display: swap;
    font-family: "Poppins";
    font-style: normal;
    font-weight: 700;
    src: url("../fonts/poppins-v21-latin-700.woff2") format("woff2");
  }

  html {
    @apply box-border h-full scroll-smooth bg-slate-50 text-base;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 800 800'%3E%3Cg fill='none' stroke='%23ECECEC' stroke-width='1'%3E%3Cpath d='M769 229L1037 260.9M927 880L731 737 520 660 309 538 40 599 295 764 126.5 879.5 40 599-197 493 102 382-31 229 126.5 79.5-69-63'/%3E%3Cpath d='M-31 229L237 261 390 382 603 493 308.5 537.5 101.5 381.5M370 905L295 764'/%3E%3Cpath d='M520 660L578 842 731 737 840 599 603 493 520 660 295 764 309 538 390 382 539 269 769 229 577.5 41.5 370 105 295 -36 126.5 79.5 237 261 102 382 40 599 -69 737 127 880'/%3E%3Cpath d='M520-140L578.5 42.5 731-63M603 493L539 269 237 261 370 105M902 382L539 269M390 382L102 382'/%3E%3Cpath d='M-222 42L126.5 79.5 370 105 539 269 577.5 41.5 927 80 769 229 902 382 603 493 731 737M295-36L577.5 41.5M578 842L295 764M40-201L127 80M102 382L-261 269'/%3E%3C/g%3E%3Cg fill='%23F0F0F0'%3E%3Ccircle cx='769' cy='229' r='5'/%3E%3Ccircle cx='539' cy='269' r='5'/%3E%3Ccircle cx='603' cy='493' r='5'/%3E%3Ccircle cx='731' cy='737' r='5'/%3E%3Ccircle cx='520' cy='660' r='5'/%3E%3Ccircle cx='309' cy='538' r='5'/%3E%3Ccircle cx='295' cy='764' r='5'/%3E%3Ccircle cx='40' cy='599' r='5'/%3E%3Ccircle cx='102' cy='382' r='5'/%3E%3Ccircle cx='127' cy='80' r='5'/%3E%3Ccircle cx='370' cy='105' r='5'/%3E%3Ccircle cx='578' cy='42' r='5'/%3E%3Ccircle cx='237' cy='261' r='5'/%3E%3Ccircle cx='390' cy='382' r='5'/%3E%3C/g%3E%3C/svg%3E");
  }

  html.dark {
    @apply bg-slate-900;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 800 800'%3E%3Cg fill='none' stroke='%23070B13' stroke-width='1'%3E%3Cpath d='M769 229L1037 260.9M927 880L731 737 520 660 309 538 40 599 295 764 126.5 879.5 40 599-197 493 102 382-31 229 126.5 79.5-69-63'/%3E%3Cpath d='M-31 229L237 261 390 382 603 493 308.5 537.5 101.5 381.5M370 905L295 764'/%3E%3Cpath d='M520 660L578 842 731 737 840 599 603 493 520 660 295 764 309 538 390 382 539 269 769 229 577.5 41.5 370 105 295 -36 126.5 79.5 237 261 102 382 40 599 -69 737 127 880'/%3E%3Cpath d='M520-140L578.5 42.5 731-63M603 493L539 269 237 261 370 105M902 382L539 269M390 382L102 382'/%3E%3Cpath d='M-222 42L126.5 79.5 370 105 539 269 577.5 41.5 927 80 769 229 902 382 603 493 731 737M295-36L577.5 41.5M578 842L295 764M40-201L127 80M102 382L-261 269'/%3E%3C/g%3E%3Cg fill='%231B294A'%3E%3Ccircle cx='769' cy='229' r='5'/%3E%3Ccircle cx='539' cy='269' r='5'/%3E%3Ccircle cx='603' cy='493' r='5'/%3E%3Ccircle cx='731' cy='737' r='5'/%3E%3Ccircle cx='520' cy='660' r='5'/%3E%3Ccircle cx='309' cy='538' r='5'/%3E%3Ccircle cx='295' cy='764' r='5'/%3E%3Ccircle cx='40' cy='599' r='5'/%3E%3Ccircle cx='102' cy='382' r='5'/%3E%3Ccircle cx='127' cy='80' r='5'/%3E%3Ccircle cx='370' cy='105' r='5'/%3E%3Ccircle cx='578' cy='42' r='5'/%3E%3Ccircle cx='237' cy='261' r='5'/%3E%3Ccircle cx='390' cy='382' r='5'/%3E%3C/g%3E%3C/svg%3E");
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-heading;
  }

  h1 {
    @apply text-4xl font-medium uppercase tracking-wide text-gray-800 lg:text-5xl dark:text-white;
  }

  h2 {
    @apply text-3xl font-medium uppercase tracking-wide text-gray-800 lg:text-4xl dark:text-white;
  }

  body {
    @apply font-body;
  }
</style>
