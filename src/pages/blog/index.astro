---
import Article from "../../components/Article.astro";
import HeadingBlock from "../../components/HeadingBlock.astro";
import Layout from "../../layouts/Layout.astro";
import { getArticles } from "../../sanity/useSanityHelper";

const articles = await getArticles();
---

<Layout
  title="Jonathan Oliver | Front End Engineer | Portfolio"
  metaTitle="Blog"
  metaDescription="Learn, Engage, Have some fun!"
  metaImage="https://plus.unsplash.com/premium_photo-1661338857151-779ee51362c6?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
  metaUrl=`https://jonooliver.dev/blog`
>
  <HeadingBlock title="Blog" subTitle="Learn, Engage, Have some fun!" />
  <section class="container grid gap-4 pb-8 lg:gap-8">
    {
      articles.map((article) => (
        <Article
          key={article.id}
          type="blog"
          slug={article.slug.current}
          title={article.articleTitle}
          excerpt={article.articleExcerpt}
          projectImage={article.articleImage}
          stack={article.articleTags}
        />
      ))
    }
  </section>
</Layout>
